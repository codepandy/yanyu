[{"/Users/apple/myself/demos/yanyu/src/reportWebVitals.js":"1","/Users/apple/myself/demos/yanyu/src/index.js":"2","/Users/apple/myself/demos/yanyu/src/App.js":"3"},{"size":362,"mtime":1609296873434,"results":"4","hashOfConfig":"5"},{"size":500,"mtime":1609308223523,"results":"6","hashOfConfig":"5"},{"size":2149,"mtime":1611564242084,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"19i3g80",{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"12","messages":"13","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"14"},"/Users/apple/myself/demos/yanyu/src/reportWebVitals.js",[],"/Users/apple/myself/demos/yanyu/src/index.js",[],"/Users/apple/myself/demos/yanyu/src/App.js",["15","16","17"],"import React, { useState, useEffect } from 'react'\nimport './App.css'\nimport { list } from './data.json'\n\nconst read_time_key = 'read_time_key'\nconst record_index_key = 'record_index_key'\nconst pageSize = 30\nconst pageCount = Math.ceil(list.length / pageSize)\nfunction App() {\n\tconst params = new URL(document.location).searchParams\n\tconst initIndex = params.get('index')\n\tif (initIndex) {\n\t\tlocalStorage.setItem(record_index_key, initIndex)\n\t}\n\tconst index = +(localStorage.getItem(record_index_key) || 0)\n\tconst [ info, setInfo ] = useState({ ...list[index] })\n\tconst [ showText, setShowText ] = useState(true)\n\tconst [ pageIndex, setPageIndex ] = useState(0)\n\tuseEffect(() => {\n\t\tconst time = localStorage.getItem(read_time_key)\n\t\tconst nowDate = new Date(new Date().toLocaleDateString()).getTime() // 获取当天凌晨的时间戳\n\t\tsetInfo({ ...list[index] })\n\t\tlocalStorage.setItem(read_time_key, nowDate)\n\t\tif (time && nowDate.toString() !== time) {\n\t\t\tlet nextIndex = index + 1\n\t\t\tif (nextIndex === list.length) {\n\t\t\t\tnextIndex = 0\n\t\t\t}\n\t\t\tlocalStorage.setItem(record_index_key, `${nextIndex}`)\n\t\t\tsetInfo({ ...list[nextIndex] })\n\t\t}\n\t}, [])\n\tconst onDoubleClick = () => {\n\t\t// setShowText(!showText)\n\t}\n\tconst onNextPage = (e) => {\n\t\te.stopPropagation()\n\t\tsetPageIndex(pageIndex + 1)\n\t}\n\tconst onPrePage = (e) => {\n\t\te.stopPropagation()\n\t\tsetPageIndex(pageIndex - 1)\n\t}\n\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t{showText ? (\n\t\t\t\t<div className=\"App\">\n\t\t\t\t\t<section className=\"content\">{info.text}</section>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"list-block\">\n\t\t\t\t\t{list\n\t\t\t\t\t\t.slice(20 * pageIndex, (pageIndex + 1) * pageSize)\n\t\t\t\t\t\t.map((item, index) => (\n\t\t\t\t\t\t\t<section key={item.text} className=\"row\">{`${index +\n\t\t\t\t\t\t\t\t1 +\n\t\t\t\t\t\t\t\tpageIndex * pageSize}.${item.text}`}</section>\n\t\t\t\t\t\t))}\n\t\t\t\t\t<section className=\"footer\">\n\t\t\t\t\t\t<div className=\"btn-page\" onClick={onPrePage}>\n\t\t\t\t\t\t\t上一页\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"page-text\">{`${pageIndex + 1}/${pageCount}`}</div>\n\t\t\t\t\t\t<div className=\"btn-page\" onClick={onNextPage}>\n\t\t\t\t\t\t\t下一页\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default App\n",{"ruleId":"18","severity":1,"message":"19","line":17,"column":20,"nodeType":"20","messageId":"21","endLine":17,"endColumn":31},{"ruleId":"22","severity":1,"message":"23","line":32,"column":5,"nodeType":"24","endLine":32,"endColumn":7,"suggestions":"25"},{"ruleId":"18","severity":1,"message":"26","line":33,"column":8,"nodeType":"20","messageId":"21","endLine":33,"endColumn":21},"no-unused-vars","'setShowText' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'index'. Either include it or remove the dependency array.","ArrayExpression",["27"],"'onDoubleClick' is assigned a value but never used.",{"desc":"28","fix":"29"},"Update the dependencies array to be: [index]",{"range":"30","text":"31"},[1127,1129],"[index]"]