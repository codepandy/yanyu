[{"/Users/wangpengpeng/工作相关/yanyu/src/App.js":"1","/Users/wangpengpeng/工作相关/yanyu/src/index.js":"2","/Users/wangpengpeng/工作相关/yanyu/src/Dialog.js":"3"},{"size":3247,"mtime":1659670598000,"results":"4","hashOfConfig":"5"},{"size":612,"mtime":1656998923000,"results":"6","hashOfConfig":"5"},{"size":1112,"mtime":1648627001000,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"10"},"6e17ph",{"filePath":"11","messages":"12","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"13","messages":"14","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/wangpengpeng/工作相关/yanyu/src/App.js",["15","16"],"import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { list } from \"./data.json\";\nimport Dialog from \"./Dialog\";\nimport toast, { Toaster } from \"react-hot-toast\";\n\nconst read_time_key = \"read_time_key\";\nconst record_index_key = \"record_index_key\";\nconst pageSize = 30;\nconst len = list.length;\nconst pageCount = Math.ceil(list.length / pageSize);\nfunction App() {\n  const index = +(localStorage.getItem(record_index_key) || 0);\n  const [info, setInfo] = useState({ ...list[index] });\n  const [showText, setShowText] = useState(true);\n  const [pageIndex, setPageIndex] = useState(0);\n  const [visibleVideo, setVisibleVideo] = useState(false);\n  const time = localStorage.getItem(read_time_key);\n  const nowDate = new Date(new Date().toLocaleDateString()).getTime(); // 获取当天凌晨的时间戳\n  let nextIndex = index;\n  if (nowDate.toString() !== time) {\n    localStorage.setItem(read_time_key, nowDate);\n\n    if (time) {\n      let nextIndex = index + 1;\n      if (nextIndex === list.length) {\n        nextIndex = 0;\n      }\n      localStorage.setItem(record_index_key, `${nextIndex}`);\n    }\n  }\n  useEffect(() => {\n    setInfo({ ...list[nextIndex] });\n  }, [nextIndex]);\n\n  const onDoubleClick = () => {\n    // setShowText(!showText)\n  };\n  const onNextPage = (e) => {\n    e.stopPropagation();\n    setPageIndex(pageIndex + 1);\n  };\n  const onPrePage = (e) => {\n    e.stopPropagation();\n    setPageIndex(pageIndex - 1);\n  };\n  const onShowVideo = () => {\n    setVisibleVideo(true);\n  };\n  const onCloseDialog = () => {\n    setVisibleVideo(false);\n  };\n\n  const onCopyToClipboard = (text) => {\n    navigator.clipboard.writeText(text).then(() => {\n      toast(\"复制成功！\", {\n        position: \"top-center\",\n        style: {\n          backgroundColor: \"#323131\",\n          color: \"#ffffff\",\n        },\n        duration: 1000,\n      });\n    });\n  };\n\n  return (\n    <>\n      <div className=\"container\">\n        {showText ? (\n          <div className=\"App\">\n            <section\n              className=\"yanyu-content\"\n              onDoubleClick={onCopyToClipboard.bind(this, info.text)}\n            >\n              {info.text}\n            </section>\n            <section className=\"index\" onClick={onShowVideo}>\n              {index}\n            </section>\n            <section className=\"length\">{len}</section>\n            <Dialog visible={visibleVideo} onCloseDialog={onCloseDialog} />\n          </div>\n        ) : (\n          <div className=\"list-block\">\n            {list\n              .slice(20 * pageIndex, (pageIndex + 1) * pageSize)\n              .map((item, index) => (\n                <section key={item.text} className=\"row\">{`${\n                  index + 1 + pageIndex * pageSize\n                }.${item.text}`}</section>\n              ))}\n            <section className=\"footer\">\n              <div className=\"btn-page\" onClick={onPrePage}>\n                上一页\n              </div>\n              <div className=\"page-text\">{`${pageIndex + 1}/${pageCount}`}</div>\n              <div className=\"btn-page\" onClick={onNextPage}>\n                下一页\n              </div>\n            </section>\n          </div>\n        )}\n      </div>\n      <Toaster />\n    </>\n  );\n}\n\nexport default App;\n","/Users/wangpengpeng/工作相关/yanyu/src/index.js",[],"/Users/wangpengpeng/工作相关/yanyu/src/Dialog.js",[],{"ruleId":"17","severity":1,"message":"18","line":15,"column":20,"nodeType":"19","messageId":"20","endLine":15,"endColumn":31},{"ruleId":"17","severity":1,"message":"21","line":36,"column":9,"nodeType":"19","messageId":"20","endLine":36,"endColumn":22},"no-unused-vars","'setShowText' is assigned a value but never used.","Identifier","unusedVar","'onDoubleClick' is assigned a value but never used."]